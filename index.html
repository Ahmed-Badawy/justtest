<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

<div id="root">
	<button @click='method(false)'>Run Method without auth</button>
	<button @click='method(true)'>Run Method with auth</button>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.4/vue.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/1.0.3/vue-resource.min.js"></script>
	<script type="text/javascript">

		Vue.http.options.emulateJSON = true;
		Vue.http.options.emulateHTTP = true;
  // Vue.http.options.error = true;



		new Vue({
			el : "#root",
			data : {
			},
			methods : {
				
				method(conf){
					let config = {headers: {} };
					if(conf) config =  { headers: {'Authorization': "123"} };
					let link = "http://site1.dev/breackvueres/1.php";

					this.$http.post(link,{}, config ).then(
							response=>console.log("success", response), 
							err=>console.log("error", JSON.parse(err.body) )
						);
				}

			},
			computed : { 

			}			
		})
	</script>


</body>
</html>